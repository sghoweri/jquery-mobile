@import "mixins";

.ui-select {
	position: relative;
	display: block;
	
	select {
		position: absolute;
		top: -9999px;
		left: -9999px;
	}
	
	/* labels */
	& label {
		display: block;
		margin: 0 0 .3em;
		font-weight: 400;
		
		@include font-size(16, 1.4);
	}
	
	.ui-btn {
		opacity: 1;
		
		/* Fixes #2588:  When Windows Phone 7.5 (Mango) tries to calculate a numeric opacity for a select (including "inherit") without explicitly specifying an opacity on the parent to give it context, a bug appears where clicking elsewhere on the page after opening the select will open the select again. */
		select {
			top: 0;
			left: 0;
			z-index: 2;
			min-height: 1.5em;
			min-height: 100%;
			max-height: 100%;
			width: 100%;
			height: 3em;
			opacity: 0;
			filter: Alpha(Opacity=0);
			cursor: pointer;
			-webkit-appearance: none;
		}
		
		&.ui-select-nativeonly {
			border: 0;
			@include border-radius(0);
			
			select {
				display: block;
				text-indent: 0;
				opacity: 1;
			}
		}
	}
	
	.ui-disabled {
		opacity: .3;
		
		select {
			display: none; /* Display none because of issues with IE/WP's filter alpha opacity */
		}
		
		&.ui-select-nativeonly .ui-btn-inner { opacity: 0; }
	}
	
	.ui-btn-icon-right,
	.ui-li-has-count {
		.ui-btn-inner { padding-right: 45px; }
	}
	
	.ui-btn-icon-right {
		
		&.ui-mini {
		
			.ui-btn-inner {	padding-right: 32px; }
			.ui-icon { right: 7px; }
			
			&.ui-li-has-count {
			
				.ui-btn-inner {	padding-right: 67px; }
				.ui-li-count {	right: 32px; }
			}
			
		}
		
		&.ui-li-has-count {
		
			.ui-btn-inner {	padding-right: 80px; }
			.ui-icon { right: 15px; }
			.ui-li-count { right: 45px; }
		}
	}
}

.ui-field-contain .ui-select .ui-btn { margin: 0; }


@-moz-document url-prefix() { .ui-selectui-btnselectopacity: .0001; }	






/*listbox*/
.ui-select,
.ui-selectmenu {

	.ui-btn-text {
		display: block;
		overflow: hidden!important; /* This !important is required for iPad Safari specifically. See https: //github.com/jquery/jquery-mobile/issues/2647 */
		min-height: 1em;
	}
}

.ui-select .ui-btn-text { text-overflow: ellipsis; }

.ui-selectmenu {
	padding: 6px;
	min-width: 160px;
	
	.ui-listview { margin: 0; }
	
	.ui-btn.ui-li-divider { cursor: default; }
	
	.ui-header {
		margin: 0;
		padding: 0;
		
		.ui-title { margin: .6em 46px .8em; }
		
		
		/* when no placeholder is defined in a multiple select, the header height doesn't even extend past the close button.  this shim's content in there */
		h1:after {
			visibility: hidden;
			content: '.';
		}
	}
	
	&.ui-popup .ui-header {
		@include border-top-right-radius(0);
		@include border-top-left-radius(0); 
	}
} 

.ui-screen-hidden,
.ui-selectmenu-list .ui-li .ui-icon { display: none; }

.ui-selectmenu-list .ui-li .ui-icon { display: block; }

.ui-li.ui-selectmenu-placeholder { display: none; }


@media all and (min-width:  28em) {
	.ui-field-contain {
		label.ui-select {
			display: inline-block;
			margin: 0 2% 0 0;
			width: 20%;
			vertical-align: top;
		}
		
		.ui-select {
			display: inline-block;
			width: 78%;
		}
	
	}
	
	.ui-hide-label .ui-select { width: 100%; }
}